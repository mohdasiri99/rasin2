from fpdf import FPDF

# 1. بيانات المعيار المطور (Rasin Framework V2.0 Data)
rasin_framework = {
    "info": {
        "title": "معيار رصين لتقييم المشاريع القرائية (الإصدار 2.0)",
        "vision": "نحو مشاريع قرائية مستدامة تعزز جودة الحياة"
    },
    "standards": [
        {
            "code": "R", "name": "البحث والتصميم", "weight": "28%",
            "indicators": [
                {"title": "المنهجية التربوية", "measure": "الاستناد لنظرية تعلم معتمدة"},
                {"title": "مصفوفة المحتوى", "measure": "وجود معايير لاختيار الكتب (بلوم)"},
                {"title": "المواءمة الوطنية", "measure": "تعزيز الهوية ورؤية 2030"}
            ]
        },
        {
            "code": "A", "name": "التطبيق والأنشطة", "weight": "24%",
            "indicators": [
                {"title": "استراتيجيات التفكير", "measure": "توظيف التفكير الناقد"},
                {"title": "بيئة التدفق (Flow)", "measure": "التوازن بين التحدي والمهارة"},
                {"title": "جودة المخرجات", "measure": "إنتاج معرفي ملموس"}
            ]
        },
        {
            "code": "S", "name": "الحوكمة والتمكين", "weight": "18%",
            "indicators": [
                {"title": "التطوع الاحترافي", "measure": "تفعيل المهارات التخصصية"},
                {"title": "الكفاءة المالية", "measure": "ضبط الهدر وتعظيم العائد"}
            ]
        },
        {
            "code": "I", "name": "الشمول والوصول", "weight": "16%",
            "indicators": [
                {"title": "الوصول الرقمي", "measure": "مراعاة ذوي الإعاقة (W3C)"},
                {"title": "العدالة الجغرافية", "measure": "الوصول للمناطق النائية"}
            ]
        },
        {
            "code": "N", "name": "الأثر والاستدامة", "weight": "14%",
            "indicators": [
                {"title": "العائد الاجتماعي", "measure": "قياس SROI"},
                {"title": "تغير السلوك", "measure": "مستوى كيركباتريك 3 و 4"}
            ]
        }
    ]
}

# 2. كود إنشاء التقرير
class RasinPDF(FPDF):
    def header(self):
        self.set_font('Arial', 'B', 15)
        self.cell(0, 10, 'RASIN Framework V2.0', 0, 1, 'C')
        self.ln(5)

    def chapter_body(self, std):
        self.set_font('Arial', 'B', 12)
        self.set_fill_color(240, 240, 240)
        self.cell(0, 10, f"{std['code']} - {std['name']} ({std['weight']})", 0, 1, 'R', 1) # Right alignment for Arabic context
        
        self.set_font('Arial', '', 10)
        for ind in std['indicators']:
            # Note: Strict Arabic text requires external font libraries in Python.
            # This is a simplified structure display.
            self.cell(0, 8, f"- {ind['title']}: {ind['measure']}", 0, 1, 'R')
        self.ln(3)

pdf = RasinPDF()
pdf.add_page()

# طباعة المحتوى
for std in rasin_framework['standards']:
    pdf.chapter_body(std)

# حفظ الملف (سيتم الحفظ عند تشغيل الكود في بيئتك)
# pdf.output("Rasin_V2.pdf")
print("تم تجهيز هيكل المعيار بنجاح")
